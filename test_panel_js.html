<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß™ Prueba Panel Entrenamiento</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold mb-6">üß™ Prueba Panel Entrenamiento</h1>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-xl font-semibold mb-4">Pruebas de Navegaci√≥n</h2>
                <div class="space-y-2">
                    <button onclick="testScrollToSection()" class="w-full bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
                        Test scrollToSection()
                    </button>
                    <button onclick="testToggleExamples()" class="w-full bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">
                        Test toggleExamples()
                    </button>
                </div>
            </div>
            
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-xl font-semibold mb-4">Pruebas de Configuraci√≥n</h2>
                <div class="space-y-2">
                    <button onclick="testPanelConfig()" class="w-full bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600">
                        Test PANEL_CONFIG
                    </button>
                    <button onclick="testFunctions()" class="w-full bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600">
                        Test Todas las Funciones
                    </button>
                </div>
            </div>
        </div>
        
        <div id="test-section" class="bg-yellow-100 p-4 rounded-lg mb-6">
            <h3 class="font-semibold">üéØ Secci√≥n de Prueba para Scroll</h3>
            <p>Esta secci√≥n se usa para probar la funci√≥n scrollToSection().</p>
        </div>
        
        <div id="examples-container" class="hidden bg-green-100 p-4 rounded-lg mb-6">
            <h3 class="font-semibold">üìù Ejemplos Container</h3>
            <p>Este container se muestra/oculta con toggleExamples().</p>
        </div>
        
        <div class="bg-gray-50 p-4 rounded-lg">
            <h3 class="font-semibold mb-2">üìä Output de Pruebas:</h3>
            <pre id="output-content" class="text-sm bg-black text-green-400 p-3 rounded max-h-64 overflow-auto"></pre>
        </div>
    </div>
    
    <!-- Scripts en orden correcto -->
    <script src="clientes/aura/static/js/panel-entrenamiento-core.js"></script>
    <script src="clientes/aura/static/js/ui-utils.js"></script>
    <script src="clientes/aura/static/js/conocimiento-manager.js"></script>
    <script src="clientes/aura/static/js/form-handlers.js"></script>
    
    <script>
    // Simular configuraci√≥n del template
    if (typeof PANEL_CONFIG !== 'undefined') {
        PANEL_CONFIG.nombreNora = 'test-nora';
        PANEL_CONFIG.endpoints = {
            bloques: '/panel_cliente/test-nora/entrenar/bloques',
            personalidad: '/panel_cliente/test-nora/entrenar/personalidad',
            instrucciones: '/panel_cliente/test-nora/entrenar/instrucciones',
            estadoIA: '/panel_cliente/test-nora/entrenar/estado_ia',
            limites: '/panel_cliente/test-nora/entrenar/limites',
            bienvenida: '/panel_cliente/test-nora/entrenar/bienvenida'
        };
    }
    
    function log(message, type = 'info') {
        const output = document.getElementById('output-content');
        const timestamp = new Date().toLocaleTimeString();
        const icon = type === 'error' ? '‚ùå' : type === 'success' ? '‚úÖ' : type === 'warning' ? '‚ö†Ô∏è' : '‚ÑπÔ∏è';
        output.textContent += `${timestamp} ${icon} ${message}\n`;
        output.scrollTop = output.scrollHeight;
    }
    
    function testScrollToSection() {
        log('Probando scrollToSection...');
        if (typeof scrollToSection === 'function') {
            try {
                scrollToSection('test-section');
                log('scrollToSection ejecutada correctamente', 'success');
            } catch (e) {
                log('Error en scrollToSection: ' + e.message, 'error');
            }
        } else {
            log('scrollToSection no est√° definida', 'error');
        }
    }
    
    function testToggleExamples() {
        log('Probando toggleExamples...');
        if (typeof toggleExamples === 'function') {
            try {
                toggleExamples();
                log('toggleExamples ejecutada correctamente', 'success');
            } catch (e) {
                log('Error en toggleExamples: ' + e.message, 'error');
            }
        } else {
            log('toggleExamples no est√° definida', 'error');
        }
    }
    
    function testPanelConfig() {
        log('Probando PANEL_CONFIG...');
        if (typeof PANEL_CONFIG !== 'undefined') {
            log('PANEL_CONFIG definido correctamente', 'success');
            log('nombreNora: ' + PANEL_CONFIG.nombreNora);
            log('endpoints: ' + Object.keys(PANEL_CONFIG.endpoints).length + ' endpoints');
        } else {
            log('PANEL_CONFIG no est√° definido', 'error');
        }
    }
    
    function testFunctions() {
        log('=== INICIANDO PRUEBA COMPLETA ===');
        
        const funciones = [
            'scrollToSection',
            'toggleExamples',
            'initializeTabs',
            'initializeFormHandlers',
            'initializeCharacterCounters',
            'cargarConocimiento'
        ];
        
        funciones.forEach(fn => {
            if (typeof window[fn] === 'function') {
                log(`‚úÖ ${fn} est√° disponible`, 'success');
            } else {
                log(`‚ùå ${fn} NO est√° disponible`, 'error');
            }
        });
        
        if (typeof PANEL_CONFIG !== 'undefined') {
            log('‚úÖ PANEL_CONFIG est√° disponible', 'success');
        } else {
            log('‚ùå PANEL_CONFIG NO est√° disponible', 'error');
        }
        
        log('=== PRUEBA COMPLETA FINALIZADA ===');
    }
    
    // Ejecuci√≥n autom√°tica al cargar
    window.addEventListener('load', function() {
        log('üöÄ P√°gina cargada completamente');
        
        // Verificar archivos cargados
        const scripts = document.querySelectorAll('script[src]');
        log(`üì¶ ${scripts.length} scripts externos detectados`);
        
        testFunctions();
    });
    
    // Log inicial
    log('üîß Inicializando pruebas...');
    </script>
</body>
</html>