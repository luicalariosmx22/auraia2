<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatGPT Code Editor</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <h1>Editor de Código con ChatGPT</h1>

    <!-- Campo para ingresar el link del repositorio -->
    <div>
        <h2>Ingresa el link del repositorio GitHub</h2>
        <input type="text" id="repo-url" placeholder="https://github.com/usuario/repositorio">
        <button onclick="saveRepo()">Guardar Repositorio</button>
    </div>

    <!-- Mostrar repositorios guardados -->
    <div>
        <h2>Repositorios Guardados</h2>
        <ul id="repo-list">
            {% for repo_name, repo_url in repos.items() %}
                <li>
                    <button onclick="loadFiles('{{ repo_name }}')">{{ repo_name }}</button>
                </li>
            {% endfor %}
        </ul>
    </div>

    <!-- Mostrar archivos del repositorio -->
    <div id="repo-files" style="float:right; width: 40%; border-left: 2px solid #ccc; padding-left: 20px;">
        <h2>Archivos del Repositorio</h2>
        <ul id="file-list"></ul>
    </div>

    <!-- Sección para modificar archivos -->
    <div>
        <h2>Instrucción para modificar el archivo</h2>
        <textarea id="prompt" rows="5" cols="80" placeholder="Escribe la instrucción aquí..."></textarea>
        <button onclick="modifyFile()">Modificar archivo</button>
    </div>

    <!-- Contenido del archivo seleccionado -->
    <div>
        <h2>Contenido del archivo</h2>
        <textarea id="file-content" rows="20" cols="80"></textarea>
    </div>

    <!-- Mostrar resultado de la modificación -->
    <div>
        <h2>Resultado de la modificación</h2>
        <textarea id="modified-content" rows="20" cols="80" readonly></textarea>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
