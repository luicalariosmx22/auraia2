<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🧪 Prueba Directa JavaScript</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold mb-6">🧪 Prueba Directa JavaScript</h1>
        
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <h2 class="text-xl font-semibold mb-4">Estado de Carga</h2>
            <div id="load-status" class="space-y-2 text-sm"></div>
        </div>
        
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <h2 class="text-xl font-semibold mb-4">Botones de Prueba</h2>
            <div class="grid grid-cols-2 gap-4">
                <button onclick="testScrollToSection()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
                    Test Scroll
                </button>
                <button onclick="testToggleExamples()" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">
                    Test Toggle
                </button>
                <button onclick="testPanelConfig()" class="bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600">
                    Test Config
                </button>
                <button onclick="testAll()" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600">
                    Test All
                </button>
            </div>
        </div>
        
        <div id="test-section" class="bg-yellow-100 p-4 rounded-lg mb-6">
            <h3 class="font-semibold">🎯 Sección de Prueba</h3>
            <p>Esta sección es para probar el scroll.</p>
        </div>
        
        <div id="examples-container" class="hidden bg-green-100 p-4 rounded-lg mb-6">
            <h3 class="font-semibold">📝 Contenedor de Ejemplos</h3>
            <p>Este contenedor se muestra/oculta.</p>
        </div>
        
        <div class="bg-black text-green-400 p-4 rounded-lg">
            <h3 class="font-semibold mb-2">📊 Console Output:</h3>
            <pre id="console-output" class="text-xs max-h-64 overflow-auto"></pre>
        </div>
    </div>
    
    <script>
    // Variables globales mínimas
    let conocimientoData = [];
    
    const PANEL_CONFIG = {
        nombreNora: 'test-nora',
        endpoints: {
            bloques: '/test/bloques',
            personalidad: '/test/personalidad'
        },
        limits: {
            maxContentLength: 500,
            maxTags: 10
        }
    };
    
    const PANEL_STATE = {
        currentTab: 'ver-conocimiento',
        isLoading: false,
        unsavedChanges: false
    };
    
    // Función de logging
    function log(message, type = 'info') {
        const output = document.getElementById('console-output');
        const timestamp = new Date().toLocaleTimeString();
        const icon = type === 'error' ? '❌' : type === 'success' ? '✅' : '📝';
        output.textContent += `${timestamp} ${icon} ${message}\n`;
        output.scrollTop = output.scrollHeight;
        console.log(`${icon} ${message}`);
    }
    
    // Función para actualizar estado de carga
    function updateLoadStatus(file, status) {
        const statusDiv = document.getElementById('load-status');
        const statusElement = document.createElement('div');
        statusElement.className = status === 'success' ? 'text-green-600' : status === 'error' ? 'text-red-600' : 'text-yellow-600';
        statusElement.textContent = `${status === 'success' ? '✅' : status === 'error' ? '❌' : '⏳'} ${file}`;
        statusDiv.appendChild(statusElement);
    }
    
    // Definir funciones de prueba directamente
    function scrollToSection(sectionId) {
        log(`Ejecutando scrollToSection('${sectionId}')`);
        const element = document.getElementById(sectionId);
        if (element) {
            element.scrollIntoView({ behavior: 'smooth', block: 'start' });
            element.classList.add('ring-4', 'ring-blue-300', 'ring-opacity-50');
            setTimeout(() => {
                element.classList.remove('ring-4', 'ring-blue-300', 'ring-opacity-50');
            }, 2000);
            log('Scroll ejecutado correctamente', 'success');
        } else {
            log(`Elemento '${sectionId}' no encontrado`, 'error');
        }
    }
    
    function toggleExamples() {
        log('Ejecutando toggleExamples()');
        const container = document.getElementById('examples-container');
        if (container) {
            if (container.classList.contains('hidden')) {
                container.classList.remove('hidden');
                log('Ejemplos mostrados', 'success');
            } else {
                container.classList.add('hidden');
                log('Ejemplos ocultados', 'success');
            }
        } else {
            log('Container examples-container no encontrado', 'error');
        }
    }
    
    // Funciones de prueba
    function testScrollToSection() {
        log('=== TEST SCROLL TO SECTION ===');
        scrollToSection('test-section');
    }
    
    function testToggleExamples() {
        log('=== TEST TOGGLE EXAMPLES ===');
        toggleExamples();
    }
    
    function testPanelConfig() {
        log('=== TEST PANEL CONFIG ===');
        log('PANEL_CONFIG definido: ' + (typeof PANEL_CONFIG !== 'undefined'));
        log('nombreNora: ' + PANEL_CONFIG.nombreNora);
        log('endpoints: ' + Object.keys(PANEL_CONFIG.endpoints).join(', '));
    }
    
    function testAll() {
        log('=== EJECUTANDO TODAS LAS PRUEBAS ===');
        testPanelConfig();
        testScrollToSection();
        setTimeout(() => testToggleExamples(), 1000);
        setTimeout(() => testToggleExamples(), 2000);
        log('=== PRUEBAS COMPLETADAS ===');
    }
    
    // Inicialización
    window.addEventListener('load', function() {
        log('🚀 Página cargada');
        log('Funciones disponibles:');
        log('- scrollToSection: ' + typeof scrollToSection);
        log('- toggleExamples: ' + typeof toggleExamples);
        log('- PANEL_CONFIG: ' + typeof PANEL_CONFIG);
        
        updateLoadStatus('Funciones base', 'success');
        log('✅ Prueba lista - haz clic en los botones');
    });
    
    log('🔧 Script iniciado');
    </script>
</body>
</html>
