<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Editar Nora: {{ nombre_nora }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/entrena_nora.css') }}">
</head>
<body>

<header>
    <div class="logo">
        <img src="{{ url_for('static', filename='images/logo_nora.png') }}" alt="Logo Nora" height="40">
    </div>
    <div class="logout">
        <a href="{{ url_for('logout') }}">Cerrar sesiÃ³n</a>
    </div>
</header>

<main>
    <h1>ğŸ›  Editar Nora: {{ nombre_nora }}</h1>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <ul>
          {% for category, message in messages %}
            <li class="estado {{ category }}">{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}

    <section class="entrena-modulos">
        <form method="POST" class="modulo">
            <h2>ğŸ· Nombre visible</h2>
            <input type="text" id="nuevo_nombre" name="nuevo_nombre" value="{{ config.nombre_visible or nombre_nora }}" required>

            <h2>ğŸ“¦ MÃ³dulos activos</h2>
            <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                {% for modulo in modulos %}
<div class="meta-card">
    <h3>{{ modulo.icono }} {{ modulo.nombre.replace('_', ' ').capitalize() }}</h3>
    <p>{{ modulo.descripcion }}</p>
    <a href="{{ url_for(modulo.ruta, nombre_nora=nombre_nora) }}" class="btn-neutral">Abrir mÃ³dulo</a>
</div>
{% endfor %}
            </div>

            <br>
            <button type="submit">ğŸ’¾ Guardar cambios</button>
            <a href="{{ url_for('admin_noras.vista_admin') }}" class="btn-back">ğŸ”™ Regresar</a>
        </form>
    </section>
</main>

</body>
</html>
