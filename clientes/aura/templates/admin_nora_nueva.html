{% extends "base_admin.html" %}

{% block titulo %}Crear nueva Nora{% endblock %}

{% block contenido %}
<div class="admin-main">
  <h1>âž• Crear nueva Nora AI</h1>

  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <ul>
        {% for category, message in messages %}
          <li class="estado {{ category }}">{{ message }}</li>
        {% endfor %}
      </ul>
    {% endif %}
  {% endwith %}

  <form method="POST" class="card" style="max-width: 700px;">
    <div class="seccion">
      <label for="nombre_interno"><strong>Nombre interno</strong> (sin espacios, solo letras o nÃºmeros):</label><br>
      <input type="text" id="nombre_interno" name="nombre_interno" placeholder="ej. dani2" required style="width: 100%; padding: 10px; margin-top: 8px; border-radius: 6px; border: 1px solid #ccc;">
    </div>

    <div class="seccion" style="margin-top: 1.5rem;">
      <label for="nombre_visible"><strong>Nombre visible</strong> (lo que verÃ¡ el cliente):</label><br>
      <input type="text" id="nombre_visible" name="nombre_visible" placeholder="ej. Dani 2.0" required style="width: 100%; padding: 10px; margin-top: 8px; border-radius: 6px; border: 1px solid #ccc;">
    </div>

    <div class="seccion" style="margin-top: 2rem;">
      <strong>MÃ³dulos iniciales:</strong><br><br>
      <div style="display: flex; flex-wrap: wrap; gap: 10px;">
        {% for modulo in modulos_disponibles %}
          <label style="background: #f3f3f3; padding: 10px 14px; border-radius: 8px; cursor: pointer;">
            <input type="checkbox" name="modulos" value="{{ modulo }}"> {{ modulo.replace('_', ' ').capitalize() }}
          </label>
        {% endfor %}
      </div>
    </div>

    <div class="acciones" style="margin-top: 2.5rem;">
      <button type="submit" class="btn-primary">ðŸ’¾ Crear Nora</button>
      <a href="{{ url_for('admin_noras.vista_admin') }}" class="btn-secondary" style="margin-left: 1rem;">ðŸ”™ Cancelar</a>
    </div>
  </form>
</div>
{% endblock %}
