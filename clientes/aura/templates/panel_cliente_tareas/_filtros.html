<div class="d-flex justify-content-between align-items-center mb-3">
  <h2 class="mb-0">ðŸ“‹ Mis tareas</h2>
  <button class="btn btn-primary"
          data-bs-toggle="modal"
          data-bs-target="#modalNuevaTarea">
    + Nueva tarea
  </button>
</div>

<!-- Filtros (puedes expandir mÃ¡s si luego los conectas con JS o backend) -->
<div class="row mb-4">
  <div class="col-md-6">
    <input type="text" class="form-control" placeholder="Buscar tarea..." id="filtro_busqueda">
  </div>
  <div class="col-md-3">
    <select class="form-select" id="filtro_prioridad">
      <option value="">Todas las prioridades</option>
      <option value="baja">Baja</option>
      <option value="media">Media</option>
      <option value="alta">Alta</option>
    </select>
  </div>
  <div class="col-md-3">
    <select class="form-select" id="filtro_estatus">
      <option value="">Todos los estatus</option>
      <option value="pendiente">Pendiente</option>
      <option value="completada">Completada</option>
      <option value="vencida">Vencida</option>
    </select>
  </div>
</div>

<form method="GET" action="" class="flex flex-wrap gap-4 items-end mb-6">
  <!-- Otros filtros aquÃ­... -->

  <div>
    <label for="filtro_empresa" class="block text-sm font-medium text-gray-700">Filtrar por empresa</label>
    <select name="empresa_id" id="filtro_empresa"
            class="mt-1 px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-400 focus:outline-none text-sm">
      <option value="">Todas</option>
      {% for empresa in empresas %}
        <option value="{{ empresa.id }}"
          {% if request.args.get('empresa_id') == empresa.id %}selected{% endif %}>
          {{ empresa.nombre_empresa }}
        </option>
      {% endfor %}
    </select>
  </div>

  <!-- Filtro por estatus -->
  <div>
    <label for="filtro_estatus" class="block text-sm font-medium text-gray-700">Estatus</label>
    <select name="estatus" id="filtro_estatus"
            class="mt-1 px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-400 focus:outline-none text-sm">
      <option value="">Todos</option>
      <option value="pendiente" {% if request.args.get('estatus') == 'pendiente' %}selected{% endif %}>Pendiente</option>
      <option value="completada" {% if request.args.get('estatus') == 'completada' %}selected{% endif %}>Completada</option>
      <option value="vencida" {% if request.args.get('estatus') == 'vencida' %}selected{% endif %}>Vencida</option>
      <option value="atrasada" {% if request.args.get('estatus') == 'atrasada' %}selected{% endif %}>Atrasada</option>
    </select>
  </div>

  <!-- Filtro por prioridad -->
  <div>
    <label for="filtro_prioridad" class="block text-sm font-medium text-gray-700">Prioridad</label>
    <select name="prioridad" id="filtro_prioridad"
            class="mt-1 px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-400 focus:outline-none text-sm">
      <option value="">Todas</option>
      <option value="alta" {% if request.args.get('prioridad') == 'alta' %}selected{% endif %}>Alta</option>
      <option value="media" {% if request.args.get('prioridad') == 'media' %}selected{% endif %}>Media</option>
      <option value="baja" {% if request.args.get('prioridad') == 'baja' %}selected{% endif %}>Baja</option>
    </select>
  </div>

  <div>
    <button type="submit"
            class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded shadow text-sm">
      Aplicar filtro
    </button>
  </div>
</form>
